# Use the official Alpine Linux image as the base
FROM alpine:latest

# Set the maintainer label
LABEL maintainer="my-email@example.com"

# Install required packages and dependencies
RUN apk update && apk upgrade && \
    apk add --no-cache \
    docker \
    curl \
    tar \
    gzip

# Install Helm
RUN curl -fsSL -o /tmp/helm.tar.gz https://get.helm.sh/helm-v3.7.0-linux-amd64.tar.gz && \
    tar -zxvf /tmp/helm.tar.gz -C /tmp && \
    mv /tmp/linux-amd64/helm /usr/local/bin/helm && \
    rm -rf /tmp/helm.tar.gz /tmp/linux-amd64

# Install oc client
RUN curl -fsSL -o /usr/local/bin/oc https://mirror.openshift.com/pub/openshift-v4/clients/ocp/latest/openshift-client-linux.tar.gz && \
    chmod +x /usr/local/bin/oc

# Set the entry point to an interactive shell
CMD ["/bin/sh"]
